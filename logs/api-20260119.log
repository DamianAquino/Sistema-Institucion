2026-01-19 00:27:57.666 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 00:27:58.307 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 00:27:58.421 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 00:27:58.425 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 00:27:58.756 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 00:27:58.768 -03:00 [INF] Hosting environment: Development
2026-01-19 00:27:58.771 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 00:28:00.916 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 00:28:02.089 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 1184.9784ms
2026-01-19 00:28:02.287 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 00:28:02.330 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 00:28:02.854 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 566.2624ms
2026-01-19 00:28:03.006 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 682.4632ms
2026-01-19 00:28:04.719 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 00:28:04.810 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.1144ms
2026-01-19 00:28:43.805 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/login - application/json 54
2026-01-19 00:28:45.256 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.login (API_Institucion)'
2026-01-19 00:28:45.298 -03:00 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(API_Institucion.Dtos.Login) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 00:28:47.825 -03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__login_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.carrera, u.dni, u.email, u.nombre, u.password, u.rol, u.ruta_foto
FROM usuarios AS u
WHERE u.dni = @__login_Dni_0
LIMIT 2
2026-01-19 00:28:48.106 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'API_Institucion.Persistencia.Conexion_Db'.
System.InvalidCastException: Reading as 'System.String' is not supported for fields having DataTypeName 'character varying[]'
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForReading>g__ThrowReadingNotSupported|0_0(Type type, PgSerializerOptions options, PgTypeId pgTypeId, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForReading(Type type, PgTypeId pgTypeId, PgSerializerOptions options)
   at Npgsql.BackendMessages.FieldDescription.<GetInfo>g__GetInfoSlow|50_0(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.BackendMessages.FieldDescription.GetInfo(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.NpgsqlDataReader.<GetInfo>g__Slow|133_0(ColumnInfo& info, PgConverter& converter, Size& bufferRequirement, Boolean& asObject, <>c__DisplayClass133_0&)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetString(Int32 ordinal)
   at lambda_method5(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Reading as 'System.String' is not supported for fields having DataTypeName 'character varying[]'
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForReading>g__ThrowReadingNotSupported|0_0(Type type, PgSerializerOptions options, PgTypeId pgTypeId, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForReading(Type type, PgTypeId pgTypeId, PgSerializerOptions options)
   at Npgsql.BackendMessages.FieldDescription.<GetInfo>g__GetInfoSlow|50_0(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.BackendMessages.FieldDescription.GetInfo(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.NpgsqlDataReader.<GetInfo>g__Slow|133_0(ColumnInfo& info, PgConverter& converter, Size& bufferRequirement, Boolean& asObject, <>c__DisplayClass133_0&)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetString(Int32 ordinal)
   at lambda_method5(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2026-01-19 00:28:48.152 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.login (API_Institucion) in 2843.8889ms
2026-01-19 00:28:48.156 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.login (API_Institucion)'
2026-01-19 00:28:48.168 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Reading as 'System.String' is not supported for fields having DataTypeName 'character varying[]'
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForReading>g__ThrowReadingNotSupported|0_0(Type type, PgSerializerOptions options, PgTypeId pgTypeId, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForReading(Type type, PgTypeId pgTypeId, PgSerializerOptions options)
   at Npgsql.BackendMessages.FieldDescription.<GetInfo>g__GetInfoSlow|50_0(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.BackendMessages.FieldDescription.GetInfo(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.NpgsqlDataReader.<GetInfo>g__Slow|133_0(ColumnInfo& info, PgConverter& converter, Size& bufferRequirement, Boolean& asObject, <>c__DisplayClass133_0&)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetString(Int32 ordinal)
   at lambda_method5(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method6(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at API_Institucion.Services.AuthService.login(Login login) in C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion\Services\AuthService.cs:line 26
   at API_Institucion.Controllers.AuthController.login(Login login) in C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion\Controllers\AuthController.cs:line 21
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-19 00:28:48.244 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/login - 500 null text/plain; charset=utf-8 4439.0184ms
2026-01-19 00:29:53.222 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 00:29:53.882 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 00:29:53.960 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 00:29:53.962 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 00:29:54.178 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 00:29:54.182 -03:00 [INF] Hosting environment: Development
2026-01-19 00:29:54.185 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 00:29:55.293 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 00:29:55.906 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 643.0281ms
2026-01-19 00:29:55.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 00:29:55.923 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 00:29:55.988 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 66.2501ms
2026-01-19 00:29:56.251 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 328.4896ms
2026-01-19 00:29:56.614 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 00:29:56.686 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.4415ms
2026-01-19 00:30:02.506 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/login - application/json 54
2026-01-19 00:30:05.853 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.login (API_Institucion)'
2026-01-19 00:30:05.888 -03:00 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(API_Institucion.Dtos.Login) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 00:30:07.826 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__login_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.carrera, u.dni, u.email, u.nombre, u.password, u.rol, u.ruta_foto
FROM usuarios AS u
WHERE u.dni = @__login_Dni_0
LIMIT 2
2026-01-19 00:30:08.015 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'API_Institucion.Persistencia.Conexion_Db'.
System.InvalidCastException: Reading as 'System.String' is not supported for fields having DataTypeName 'character varying[]'
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForReading>g__ThrowReadingNotSupported|0_0(Type type, PgSerializerOptions options, PgTypeId pgTypeId, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForReading(Type type, PgTypeId pgTypeId, PgSerializerOptions options)
   at Npgsql.BackendMessages.FieldDescription.<GetInfo>g__GetInfoSlow|50_0(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.BackendMessages.FieldDescription.GetInfo(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.NpgsqlDataReader.<GetInfo>g__Slow|133_0(ColumnInfo& info, PgConverter& converter, Size& bufferRequirement, Boolean& asObject, <>c__DisplayClass133_0&)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetString(Int32 ordinal)
   at lambda_method5(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Reading as 'System.String' is not supported for fields having DataTypeName 'character varying[]'
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForReading>g__ThrowReadingNotSupported|0_0(Type type, PgSerializerOptions options, PgTypeId pgTypeId, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForReading(Type type, PgTypeId pgTypeId, PgSerializerOptions options)
   at Npgsql.BackendMessages.FieldDescription.<GetInfo>g__GetInfoSlow|50_0(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.BackendMessages.FieldDescription.GetInfo(Type type, ColumnInfo& lastColumnInfo)
   at Npgsql.NpgsqlDataReader.<GetInfo>g__Slow|133_0(ColumnInfo& info, PgConverter& converter, Size& bufferRequirement, Boolean& asObject, <>c__DisplayClass133_0&)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetString(Int32 ordinal)
   at lambda_method5(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2026-01-19 00:46:44.421 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 00:46:45.124 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 00:46:45.210 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 00:46:45.212 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 00:46:45.577 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 00:46:45.581 -03:00 [INF] Hosting environment: Development
2026-01-19 00:46:45.583 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 00:46:47.596 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 00:46:48.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 1060.3745ms
2026-01-19 00:46:48.691 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 00:46:48.694 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 00:46:48.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 226.5805ms
2026-01-19 00:46:49.258 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 564.3199ms
2026-01-19 00:46:49.401 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 00:46:49.579 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.5813ms
2026-01-19 00:46:59.064 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------598626293942761290715238 123446
2026-01-19 00:47:02.551 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 00:47:02.603 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 00:47:03.677 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-19 00:47:03.712 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Registrar (API_Institucion) in 1101.4114ms
2026-01-19 00:47:03.714 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 00:47:03.726 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - 415 null application/problem+json; charset=utf-8 4661.9767ms
2026-01-19 00:54:29.969 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 00:54:30.640 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 00:54:30.732 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 00:54:30.734 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 00:54:30.887 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 00:54:30.901 -03:00 [INF] Hosting environment: Development
2026-01-19 00:54:30.903 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 00:54:31.837 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 00:54:33.033 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 1216.1853ms
2026-01-19 00:54:33.079 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 00:54:33.102 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 23.5772ms
2026-01-19 00:54:33.115 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 00:54:33.216 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.9188ms
2026-01-19 00:54:33.409 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 00:54:33.464 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.4745ms
2026-01-19 00:54:38.663 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------842275830627982550975557 123446
2026-01-19 00:54:42.428 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 00:54:42.703 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 00:54:44.606 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2026-01-19 00:54:44.672 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Registrar (API_Institucion) in 1935.1987ms
2026-01-19 00:54:44.676 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 00:54:44.694 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - 415 null application/problem+json; charset=utf-8 6030.6505ms
2026-01-19 00:55:55.498 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 00:55:56.017 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 00:55:56.100 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 00:55:56.103 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 00:55:56.256 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 00:55:56.258 -03:00 [INF] Hosting environment: Development
2026-01-19 00:55:56.262 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 00:55:57.704 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 00:55:58.519 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 840.5854ms
2026-01-19 00:55:58.571 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 00:55:58.575 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 00:55:58.608 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 37.4491ms
2026-01-19 00:55:58.712 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 137.03ms
2026-01-19 00:55:58.978 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 00:55:59.024 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.3117ms
2026-01-19 00:56:01.892 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/debug - multipart/form-data; boundary=--------------------------069131525869213944958529 123446
2026-01-19 00:56:05.009 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Debug (API_Institucion)'
2026-01-19 00:56:05.101 -03:00 [INF] Route matched with {action = "Debug", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Debug() on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 00:56:07.020 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-19 00:56:07.036 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Debug (API_Institucion) in 1923.044ms
2026-01-19 00:56:07.048 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Debug (API_Institucion)'
2026-01-19 00:56:07.070 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/debug - 200 null text/plain; charset=utf-8 5178.3607ms
2026-01-19 00:56:07.087 -03:00 [INF] Connection id "0HNIN1QJ28KT5", Request id "0HNIN1QJ28KT5:00000001": the application completed without reading the entire request body.
2026-01-19 01:00:11.213 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:00:11.991 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:00:12.062 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:00:12.065 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:00:12.280 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:00:12.282 -03:00 [INF] Hosting environment: Development
2026-01-19 01:00:12.283 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:00:13.975 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:00:14.795 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 844.3171ms
2026-01-19 01:00:15.085 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:00:15.089 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:00:15.130 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 47.2231ms
2026-01-19 01:00:15.278 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 189.6253ms
2026-01-19 01:00:15.556 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:00:15.636 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.2945ms
2026-01-19 01:00:20.593 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------167295054949824908874600 123446
2026-01-19 01:00:23.403 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:00:23.488 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:00:27.894 -03:00 [INF] Executed DbCommand (134ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:02:31.381 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:02:32.536 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:02:32.693 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:02:32.698 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:02:33.467 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:02:33.469 -03:00 [INF] Hosting environment: Development
2026-01-19 01:02:33.471 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:02:34.232 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:02:34.925 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 713.448ms
2026-01-19 01:02:35.014 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:02:35.015 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:02:35.150 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 136.3144ms
2026-01-19 01:02:35.413 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 398.6505ms
2026-01-19 01:02:35.746 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:02:35.829 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.2266ms
2026-01-19 01:02:38.329 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------129959209566299051805127 123446
2026-01-19 01:02:42.051 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:02:42.166 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:02:46.713 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:02:47.497 -03:00 [ERR] Failed executing DbCommand (53ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (carrera, dni, email, nombre, password, rol, ruta_foto)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2026-01-19 01:02:47.612 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'API_Institucion.Persistencia.Conexion_Db'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(60)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(60)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(60)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(60)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2026-01-19 01:04:57.695 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:04:58.797 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:04:59.014 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:04:59.019 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:04:59.872 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:04:59.887 -03:00 [INF] Hosting environment: Development
2026-01-19 01:04:59.889 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:05:00.712 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:05:01.500 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 832.6437ms
2026-01-19 01:05:01.538 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:05:01.579 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:05:01.689 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 110.3949ms
2026-01-19 01:05:01.756 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 218.5632ms
2026-01-19 01:05:01.917 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:05:01.959 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.7442ms
2026-01-19 01:05:04.320 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------783201756572718827930230 123446
2026-01-19 01:05:07.897 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:05:08.001 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:05:12.328 -03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:05:14.449 -03:00 [ERR] Failed executing DbCommand (274ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (carrera, dni, email, nombre, password, rol, ruta_foto)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2026-01-19 01:05:14.621 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'API_Institucion.Persistencia.Conexion_Db'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(64)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(64)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(64)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(64)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2026-01-19 01:05:55.333 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:05:56.082 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:05:56.213 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:05:56.216 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:05:56.887 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:05:56.892 -03:00 [INF] Hosting environment: Development
2026-01-19 01:05:56.896 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:06:00.117 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:06:00.695 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 595.6459ms
2026-01-19 01:06:00.837 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:06:00.838 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:06:00.852 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 14.5225ms
2026-01-19 01:06:00.938 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.4819ms
2026-01-19 01:06:00.997 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:06:01.021 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6284ms
2026-01-19 01:06:04.759 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------408157103050492200417213 123446
2026-01-19 01:06:07.008 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:06:07.077 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:06:09.811 -03:00 [INF] Executed DbCommand (108ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:06:11.059 -03:00 [ERR] Failed executing DbCommand (57ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (carrera, dni, email, nombre, password, rol, ruta_foto)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2026-01-19 01:06:11.149 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'API_Institucion.Persistencia.Conexion_Db'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(65)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(65)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(65)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(65)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2026-01-19 01:08:15.988 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Registrar (API_Institucion) in 128797.4569ms
2026-01-19 01:08:16.048 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:08:16.113 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 22001: el valor es demasiado largo para el tipo character varying(65)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 22001
    MessageText: el valor es demasiado largo para el tipo character varying(65)
    File: varchar.c
    Line: 640
    Routine: varchar
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at API_Institucion.Services.AuthService.RegistrarAsync(UsuarioDto dto) in C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion\Services\AuthService.cs:line 94
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at API_Institucion.Controllers.AuthController.Registrar(UsuarioDto usuario_dto) in C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion\Controllers\AuthController.cs:line 32
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-19 01:08:16.695 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - 500 null text/plain; charset=utf-8 131933.1306ms
2026-01-19 01:09:15.218 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:09:16.100 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:09:16.199 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:09:16.201 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:09:16.413 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:09:16.419 -03:00 [INF] Hosting environment: Development
2026-01-19 01:09:16.420 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:09:17.887 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:09:18.692 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 830.0436ms
2026-01-19 01:09:18.768 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:09:18.770 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:09:18.800 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 29.0965ms
2026-01-19 01:09:18.921 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 153.9512ms
2026-01-19 01:09:19.122 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:09:19.161 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.0172ms
2026-01-19 01:09:46.196 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------303621970575548495065577 123446
2026-01-19 01:09:47.868 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:09:47.920 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:09:50.547 -03:00 [INF] Executed DbCommand (143ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:09:51.842 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (carrera, dni, email, nombre, password, rol, ruta_foto)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2026-01-19 01:09:51.906 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-19 01:09:51.931 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Registrar (API_Institucion) in 4002.9355ms
2026-01-19 01:09:51.934 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:09:51.954 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - 200 null application/json; charset=utf-8 5757.7175ms
2026-01-19 01:12:56.404 -03:00 [INF] User profile is available. Using 'C:\Users\daqui\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-19 01:12:57.272 -03:00 [WRN] Overriding address(es) 'http://0.0.0.0:5000, https://0.0.0.0:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2026-01-19 01:12:57.434 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2026-01-19 01:12:57.444 -03:00 [INF] Now listening on: https://0.0.0.0:5001
2026-01-19 01:12:57.745 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-19 01:12:57.761 -03:00 [INF] Hosting environment: Development
2026-01-19 01:12:57.763 -03:00 [INF] Content root path: C:\Users\daqui\OneDrive\Desktop\Institucion\API_Institucion\Sistema-Institucion
2026-01-19 01:12:59.611 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2026-01-19 01:13:00.825 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 1309.4976ms
2026-01-19 01:13:00.967 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 01:13:00.977 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - null null
2026-01-19 01:13:01.084 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 117.6124ms
2026-01-19 01:13:01.453 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 476.8478ms
2026-01-19 01:13:01.881 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2026-01-19 01:13:02.012 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.0115ms
2026-01-19 01:13:06.720 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - multipart/form-data; boundary=--------------------------784928221975113745244787 123446
2026-01-19 01:13:09.515 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:13:09.606 -03:00 [INF] Route matched with {action = "Registrar", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Registrar(API_Institucion.Interfaces.UsuarioDto) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:13:13.749 -03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__dto_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM usuarios AS u
    WHERE u.dni = @__dto_Dni_0)
2026-01-19 01:13:14.925 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO usuarios (carrera, dni, email, nombre, password, rol, ruta_foto)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2026-01-19 01:13:14.981 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-19 01:13:15.005 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.Registrar (API_Institucion) in 5390.1575ms
2026-01-19 01:13:15.008 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.Registrar (API_Institucion)'
2026-01-19 01:13:15.027 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/registrar - 200 null application/json; charset=utf-8 8307.6047ms
2026-01-19 01:14:04.175 -03:00 [INF] Request starting HTTP/1.1 POST https://127.0.0.1:5001/api/auth/login - application/json 54
2026-01-19 01:14:04.423 -03:00 [INF] Executing endpoint 'API_Institucion.Controllers.AuthController.login (API_Institucion)'
2026-01-19 01:14:04.568 -03:00 [INF] Route matched with {action = "login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult login(API_Institucion.Dtos.Login) on controller API_Institucion.Controllers.AuthController (API_Institucion).
2026-01-19 01:14:05.070 -03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__login_Dni_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.carrera, u.dni, u.email, u.nombre, u.password, u.rol, u.ruta_foto
FROM usuarios AS u
WHERE u.dni = @__login_Dni_0
LIMIT 2
2026-01-19 01:14:06.455 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-19 01:14:06.472 -03:00 [INF] Executed action API_Institucion.Controllers.AuthController.login (API_Institucion) in 1881.8099ms
2026-01-19 01:14:06.475 -03:00 [INF] Executed endpoint 'API_Institucion.Controllers.AuthController.login (API_Institucion)'
2026-01-19 01:14:06.481 -03:00 [INF] Request finished HTTP/1.1 POST https://127.0.0.1:5001/api/auth/login - 200 null application/json; charset=utf-8 2327.0406ms
2026-01-19 13:15:40.763 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2026-01-19 13:15:40.978 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 499 16515 application/javascript; charset=utf-8 269.887ms
